# Output Settings (Images)
set terminal pngcairo size 800,600 enhanced font 'Verdana,10'

# Input Settings
set datafile separator ","
set style data histograms
set style fill solid 1.0 border -1
set boxwidth 0.7

# Axis Labels
set xtics rotate by -45
set grid y

# --- Graph 1: Real Time ---
set output 'bench_real_OPERATION.png'
set title "Real Time (OPERATION) (seconds)"
set ylabel "Time (s)"
# Filter: We skip header (every ::1) using col 4 (avg_real) vs xtic labels from col 3 (tool)
plot 'INPUT_CSV' every ::1 using 4:xtic(3) title 'Real Time' linecolor rgb "#4E79A7"

# --- Graph 2: User Time ---
set output 'bench_user_OPERATION.png'
set title "User Time (OPERATION) (seconds)"
set ylabel "Time (s)"
plot 'INPUT_CSV' every ::1 using 5:xtic(3) title 'User Time' linecolor rgb "#F28E2B"

# --- Graph 3: Max RSS ---
set output 'bench_rss_OPERATION.png'
set title "Max Resident Set Size (OPERATION) (Bytes)"
set ylabel "Memory (Bytes)"
# Format Y axis to be readable (e.g. 100 MB)
set format y "%.0s%c" 
plot 'INPUT_CSV' every ::1 using 6:xtic(3) title 'Max RSS' linecolor rgb "#E15759"